{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  \"aria-label\": \"breadcrumb\"\n};\nconst _hoisted_2 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"breadcrumb-item\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/\"\n}, \"Home\")], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n};\nconst _hoisted_5 = {\n  class: \"row row-cols-1 row-cols-md-3 g-4\"\n};\nconst _hoisted_6 = {\n  \"aria-label\": \"Page navigation example\"\n};\nconst _hoisted_7 = {\n  class: \"pagination\"\n};\nconst _hoisted_8 = {\n  class: \"page-item\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"«\", -1 /* HOISTED */);\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = {\n  class: \"page-item\"\n};\nconst _hoisted_12 = {\n  class: \"page-item\"\n};\nconst _hoisted_13 = {\n  class: \"page-item\"\n};\nconst _hoisted_14 = {\n  class: \"page-link active\"\n};\nconst _hoisted_15 = {\n  class: \"page-item\"\n};\nconst _hoisted_16 = {\n  class: \"page-item\"\n};\nconst _hoisted_17 = {\n  class: \"page-item\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"»\", -1 /* HOISTED */);\nconst _hoisted_19 = [_hoisted_18];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TheCards = _resolveComponent(\"TheCards\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"ol\", _hoisted_2, [_hoisted_3, _createElementVNode(\"li\", _hoisted_4, _toDisplayString($setup.type), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary position-absolute top-20 end-0\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.add && $setup.add(...args))\n  }, \"Add\")])]), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.records, r => {\n    return _openBlock(), _createBlock(_component_TheCards, {\n      key: r._id,\n      id: r._id,\n      type: $setup.type,\n      src: r.image,\n      title: r.title,\n      descriptions: r.descriptions,\n      quantity: r.quantity,\n      borrowerId: r.borrow.borrowerId,\n      borrowerName: r.borrow.borrowerName\n    }, null, 8 /* PROPS */, [\"id\", \"type\", \"src\", \"title\", \"descriptions\", \"quantity\", \"borrowerId\", \"borrowerName\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"nav\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [$setup.currentPage > 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    a: \"\",\n    class: \"page-link\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.currentPage--)\n  }, _hoisted_10)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_11, [$setup.currentPage > 2 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[2] || (_cache[2] = $event => $setup.currentPage = $setup.currentPage - 2)\n  }, _toDisplayString($setup.currentPage - 2), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_12, [$setup.currentPage > 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[3] || (_cache[3] = $event => $setup.currentPage--)\n  }, _toDisplayString($setup.currentPage - 1), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_13, [_createElementVNode(\"a\", _hoisted_14, _toDisplayString($setup.currentPage), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_15, [$setup.currentPage < $setup.pages.length ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[4] || (_cache[4] = $event => $setup.currentPage++)\n  }, _toDisplayString($setup.currentPage + 1), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_16, [$setup.currentPage < $setup.pages.length - 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[5] || (_cache[5] = $event => $setup.currentPage = $setup.currentPage + 2)\n  }, _toDisplayString($setup.currentPage + 2), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_17, [$setup.currentPage < $setup.pages.length ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[6] || (_cache[6] = $event => $setup.currentPage++)\n  }, _hoisted_19)) : _createCommentVNode(\"v-if\", true)])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","href","_hoisted_9","_hoisted_18","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$setup","type","onClick","_hoisted_5","_createElementBlock","_Fragment","r","_createBlock","_component_TheCards","key","_id","id","src","image","title","descriptions","quantity","borrowerId","borrow","borrowerName","_hoisted_6","_hoisted_7","_hoisted_8","a","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","length","_hoisted_16","_hoisted_17"],"sourceRoot":"","sources":["/Users/yeelam/Documents/Year3 sem1/COMP3047/Lab/Asm03/Front/src/views/TypeView.vue"],"sourcesContent":["<template>\n    <nav aria-label=\"breadcrumb\">\n        <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\"><a href=\"/\">Home</a></li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ type }}</li>\n            <button type=\"button\" class=\"btn btn-primary position-absolute top-20 end-0\" @click=\"add\">Add</button>\n        </ol>\n    </nav>\n    <div class=\"row row-cols-1 row-cols-md-3 g-4\">\n        <TheCards v-for=\"r in records\" :key=\"r._id\" :id=\"r._id\" :type=\"type\" :src=\"r.image\" :title=\"r.title\"\n            :descriptions=\"r.descriptions\" :quantity=\"r.quantity\" :borrowerId=\"r.borrow.borrowerId\"\n            :borrowerName=\"r.borrow.borrowerName\" />\n    </div>\n    <nav aria-label=\"Page navigation example\">\n        <ul class=\"pagination\">\n            <li class=\"page-item\">\n                <a a v-if=\"currentPage > 1\" class=\"page-link\" @click=\"currentPage--\">\n                    <span aria-hidden=\"true\">&laquo;</span>\n                </a>\n            </li>\n            <li class=\"page-item\"><a v-if=\"currentPage > 2\" class=\"page-link\" @click=\"currentPage = currentPage - 2\">{{\n                    currentPage - 2\n            }}</a></li>\n            <li class=\"page-item\"><a v-if=\"currentPage > 1\" class=\"page-link\" @click=\"currentPage--\">{{ currentPage - 1\n            }}</a></li>\n            <li class=\"page-item\"><a class=\"page-link active\">{{ currentPage }}</a></li>\n            <li class=\"page-item\"><a v-if=\"currentPage < pages.length\" class=\"page-link\" @click=\"currentPage++\">{{\n                    currentPage + 1\n            }}</a></li>\n            <li class=\"page-item\"><a v-if=\"currentPage < pages.length - 1\" class=\"page-link\"\n                    @click=\"currentPage = currentPage + 2\">{{ currentPage + 2 }}</a></li>\n            <li class=\"page-item\">\n                <a v-if=\"currentPage < pages.length\" class=\"page-link\" @click=\"currentPage++\">\n                    <span aria-hidden=\"true\">&raquo;</span>\n                </a>\n            </li>\n        </ul>\n    </nav>\n</template>\n\n<script>\nimport TheCards from '@/components/TheCards.vue'\nimport { ref, onMounted, computed, watch } from \"vue\";\nimport { useRoute } from 'vue-router';\n\nexport default {\n    name: 'TypeView',\n    components: {\n        TheCards\n    },\n    setup() {\n        const records = ref([]);\n        const lastPage = ref(0);\n        const perPage = ref(6);\n        const route = useRoute();\n        const type = route.params.type;\n        const currentPage = ref(1);\n\n        const add = async function () {\n            location.assign(\"/\" + route.params.type + \"/detail\")\n        }\n\n        const pages = computed(() => {\n            var pages = [];\n\n            for (var i = 1; i <= lastPage.value; i++) {\n                pages.push(i)\n            }\n\n            return pages;\n        })\n\n        const fetchPage = async function (page) {\n\n            var response = await fetch(\"/api/\" + type + \"?perPage=\" + perPage.value + \"&page=\" + page);\n\n\n            if (response.ok) {\n                var data = await response.json();\n                records.value = data.records;\n                lastPage.value = data.pages;\n            } else {\n                alert(response.statusText);\n            }\n\n        };\n\n\n        onMounted(function () {\n            fetchPage(1);\n            // alert(props.msg)\n            for (let r of records) {\n            console.log(r.value._id)\n        }\n        });\n\n        watch(currentPage, () => {\n            fetchPage(currentPage.value)\n        });\n\n        return {\n            records,\n            pages,\n            fetchPage,\n            type,\n            currentPage,\n            add\n        };\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}