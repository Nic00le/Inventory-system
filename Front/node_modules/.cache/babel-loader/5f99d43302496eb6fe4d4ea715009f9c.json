{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row\"\n};\nconst _hoisted_2 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputEmail4\"\n}, \"Title\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword4\"\n}, \"Category\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<option selected>Open this select menu</option><option value=\\\"Action\\\">Action</option><option value=\\\"Comedy\\\">Comedy</option><option value=\\\"Drama\\\">Fantasy</option><option value=\\\"Horror\\\">Horror</option><option value=\\\"Mystery\\\">Mystery</option><option value=\\\"Romance\\\">Romance</option><option value=\\\"Thriller\\\">Thriller</option>\", 8);\nconst _hoisted_14 = [_hoisted_6];\nconst _hoisted_15 = {\n  class: \"row\"\n};\nconst _hoisted_16 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputEmail4\"\n}, \"Author\", -1 /* HOISTED */);\nconst _hoisted_18 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword4\"\n}, \"Publisher\", -1 /* HOISTED */);\nconst _hoisted_20 = {\n  class: \"row\"\n};\nconst _hoisted_21 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_22 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputEmail4\"\n}, \"Year\", -1 /* HOISTED */);\nconst _hoisted_23 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_24 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword4\"\n}, \"Location\", -1 /* HOISTED */);\nconst _hoisted_25 = {\n  class: \"row\"\n};\nconst _hoisted_26 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_27 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputEmail4\"\n}, \"ISBN\", -1 /* HOISTED */);\nconst _hoisted_28 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword4\"\n}, \"Image\", -1 /* HOISTED */);\nconst _hoisted_30 = {\n  class: \"row\"\n};\nconst _hoisted_31 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_32 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputEmail4\"\n}, \"Descriptions\", -1 /* HOISTED */);\nconst _hoisted_33 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_34 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"inputPassword4\"\n}, \"Remarks\", -1 /* HOISTED */);\nconst _hoisted_35 = {\n  key: 0,\n  type: \"submit\",\n  class: \"btn btn-primary\"\n};\nconst _hoisted_36 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"form\", {\n    onSubmit: _cache[10] || (_cache[10] = _withModifiers((...args) => $setup.submitRecords && $setup.submitRecords(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Title\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.records.title = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.title]])]), _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _withDirectives(_createElementVNode(\"select\", {\n    id: \"Category\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.records.category = $event)\n  }, _hoisted_14, 512 /* NEED_PATCH */), [[_vModelSelect, $setup.records.category]])])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Author\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.records.author = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.author]])]), _createElementVNode(\"div\", _hoisted_18, [_hoisted_19, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Publisher\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.records.publisher = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.publisher]])])]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_hoisted_22, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Year\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.records.year = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.year]])]), _createElementVNode(\"div\", _hoisted_23, [_hoisted_24, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Location\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.records.location = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.location]])])]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_hoisted_27, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"ISBN\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.records.isbn = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.isbn]])]), _createElementVNode(\"div\", _hoisted_28, [_hoisted_29, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Image\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.records.image = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.image]])])]), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_hoisted_32, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Descriptions\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.records.descriptions = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.descriptions]])]), _createElementVNode(\"div\", _hoisted_33, [_hoisted_34, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"Remarks\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.records.remarks = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.records.remarks]])])]), $props.newRecord == true ? (_openBlock(), _createElementBlock(\"button\", _hoisted_35, \"Save\")) : _createCommentVNode(\"v-if\", true)], 32 /* HYDRATE_EVENTS */), _ctx.$route.params.id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [_createElementVNode(\"button\", {\n    onClick: _cache[11] || (_cache[11] = _withModifiers((...args) => $setup.updateRecords && $setup.updateRecords(...args), [\"prevent\"])),\n    class: \"btn btn-primary\"\n  }, \"Save\"), _createElementVNode(\"button\", {\n    onClick: _cache[12] || (_cache[12] = _withModifiers((...args) => $setup.deleteRecords && $setup.deleteRecords(...args), [\"prevent\"])),\n    class: \"btn btn-danger\"\n  }, \"Delete\")])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","for","_hoisted_6","type","onSubmit","$setup","_hoisted_1","_hoisted_2","_hoisted_3","id","title","_hoisted_4","_hoisted_5","category","_hoisted_15","_hoisted_16","_hoisted_17","author","_hoisted_18","_hoisted_19","publisher","_hoisted_20","_hoisted_21","_hoisted_22","year","_hoisted_23","_hoisted_24","location","_hoisted_25","_hoisted_26","_hoisted_27","isbn","_hoisted_28","_hoisted_29","image","_hoisted_30","_hoisted_31","_hoisted_32","descriptions","_hoisted_33","_hoisted_34","remarks","$props","_createElementBlock","_hoisted_35","_ctx","params","onClick"],"sourceRoot":"","sources":["/Users/yeelam/Documents/Year3 sem1/COMP3047/Lab/Asm03/Front/src/components/BookForm.vue"],"sourcesContent":["<template>\n    <form @submit.prevent=\"submitRecords\">\n        <div class=\"row\">\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputEmail4\">Title</label>\n                <input type=\"text\" class=\"form-control\" id=\"Title\" v-model=\"records.title\">\n            </div>\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputPassword4\">Category</label>\n                <select id=\"Category\" class=\"form-control\" v-model=\"records.category\">\n                    <option selected>Open this select menu</option>\n                    <option value=\"Action\">Action</option>\n                    <option value=\"Comedy\">Comedy</option>\n                    <option value=\"Drama\">Fantasy</option>\n                    <option value=\"Horror\">Horror</option>\n                    <option value=\"Mystery\">Mystery</option>\n                    <option value=\"Romance\">Romance</option>\n                    <option value=\"Thriller\">Thriller</option>\n                </select>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputEmail4\">Author</label>\n                <input type=\"text\" class=\"form-control\" id=\"Author\" v-model=\"records.author\">\n            </div>\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputPassword4\">Publisher</label>\n                <input type=\"text\" class=\"form-control\" id=\"Publisher\" v-model=\"records.publisher\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputEmail4\">Year</label>\n                <input type=\"text\" class=\"form-control\" id=\"Year\" v-model=\"records.year\">\n            </div>\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputPassword4\">Location</label>\n                <input type=\"text\" class=\"form-control\" id=\"Location\" v-model=\"records.location\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputEmail4\">ISBN</label>\n                <input type=\"text\" class=\"form-control\" id=\"ISBN\" v-model=\"records.isbn\">\n            </div>\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputPassword4\">Image</label>\n                <input type=\"text\" class=\"form-control\" id=\"Image\" v-model=\"records.image\">\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputEmail4\">Descriptions</label>\n                <input type=\"text\" class=\"form-control\" id=\"Descriptions\" v-model=\"records.descriptions\">\n            </div>\n            <div class=\"form-group col-md-6\">\n                <label for=\"inputPassword4\">Remarks</label>\n                <input type=\"text\" class=\"form-control\" id=\"Remarks\" v-model=\"records.remarks\">\n            </div>\n        </div>\n        <button v-if=\"newRecord == true\" type=\"submit\" class=\"btn btn-primary\">Save</button>\n    </form>\n    <div v-if=\"$route.params.id\">\n        <button @click.prevent=\"updateRecords\" class=\"btn btn-primary\">Save</button>\n        <button @click.prevent=\"deleteRecords\" class=\"btn btn-danger\">Delete</button>\n    </div>\n</template>\n<script>\nimport { ref, onMounted } from \"vue\";\n\nexport default {\n    name: 'BookForm',\n    props: {\n        id: String,\n        newRecord: Boolean\n    },\n    setup(props) {\n        const records = ref({});\n\n        onMounted(async () => {\n            if (props.id) {\n                var response = await fetch(\"/api/records/\" + props.id)\n\n                if (response.ok) {\n                    records.value = await response.json();\n                }\n            }\n        });\n\n        const submitRecords = async function () {\n            records.value.type = \"books\";\n\n            // event.preventDefault();\n\n            var response = await fetch(\"/api/book/detail/\", {\n                method: \"post\",\n                headers: {\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                    'Content-Type': 'application/json'\n                },\n\n                // body: new URLSearchParams(new FormData(event.target))\n                body: JSON.stringify(records.value)\n            });\n            console.log(records.value)\n            if (response.ok) {\n\n                var text = await response.text();\n                alert(text);\n                // location.assign(\"/bookings\")\n            } else {\n                alert(response.statusText)\n            }\n\n        }\n\n        const updateRecords = async function () {\n            delete records.value._id;\n\n            var response = await fetch(\"/api/record/update/\" + props.id, {\n                method: \"put\",\n                headers: {\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                    'Content-Type': 'application/json'\n                },\n\n                // body: new URLSearchParams(new FormData(event.target))\n                body: JSON.stringify(records.value)\n            });\n            console.log(records.value)\n            if (response.ok) {\n\n                var text = await response.text();\n                alert(text);\n                // location.assign(\"/bookings\")\n            } else {\n                alert(response.statusText)\n            }\n        }\n\n        const deleteRecords = async function () {\n\n            var response = await fetch(\"/api/record/delete/\" + props.id, {\n                method: \"delete\",\n                headers: {\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                    'Content-Type': 'application/json'\n                }\n\n                // body: new URLSearchParams(new FormData(event.target))\n                // body: JSON.stringify(records.value)\n            });\n            if (response.ok) {\n\n                // var text = await response.text();\n                alert(\"Booking is deleted\");\n                // location.assign(\"/bookings\")\n            } else {\n                alert(response.statusText)\n            }\n        }\n\n\n        return {\n            submitRecords,\n            deleteRecords,\n            updateRecords,\n            records\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}