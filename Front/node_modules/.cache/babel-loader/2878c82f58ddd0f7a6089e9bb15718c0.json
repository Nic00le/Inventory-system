{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  \"aria-label\": \"breadcrumb\"\n};\nconst _hoisted_2 = {\n  class: \"breadcrumb\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"breadcrumb-item\"\n}, [/*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"/\"\n}, \"Home\")], -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"breadcrumb-item active\",\n  \"aria-current\": \"page\"\n}, \"Users\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"row row-cols-1 row-cols-md-4 g-4\"\n};\nconst _hoisted_6 = {\n  \"aria-label\": \"Page navigation example\"\n};\nconst _hoisted_7 = {\n  class: \"pagination\"\n};\nconst _hoisted_8 = {\n  class: \"page-item\"\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"«\", -1 /* HOISTED */);\nconst _hoisted_10 = [_hoisted_9];\nconst _hoisted_11 = {\n  class: \"page-item\"\n};\nconst _hoisted_12 = {\n  class: \"page-item\"\n};\nconst _hoisted_13 = {\n  class: \"page-item\"\n};\nconst _hoisted_14 = {\n  class: \"page-link active\"\n};\nconst _hoisted_15 = {\n  class: \"page-item\"\n};\nconst _hoisted_16 = {\n  class: \"page-item\"\n};\nconst _hoisted_17 = {\n  class: \"page-item\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"span\", {\n  \"aria-hidden\": \"true\"\n}, \"»\", -1 /* HOISTED */);\nconst _hoisted_19 = [_hoisted_18];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UserCard = _resolveComponent(\"UserCard\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_createElementVNode(\"nav\", _hoisted_1, [_createElementVNode(\"ol\", _hoisted_2, [_hoisted_3, _hoisted_4, _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary position-absolute top-20 end-0\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.add && $setup.add(...args))\n  }, \"Add\")])])]), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.users, u => {\n    return _openBlock(), _createBlock(_component_UserCard, {\n      key: u._id,\n      id: u._id,\n      name: u.name,\n      email: u.email\n    }, null, 8 /* PROPS */, [\"id\", \"name\", \"email\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"nav\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [$setup.currentPage > 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    a: \"\",\n    class: \"page-link\",\n    onClick: _cache[1] || (_cache[1] = $event => $setup.currentPage--)\n  }, _hoisted_10)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_11, [$setup.currentPage > 2 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[2] || (_cache[2] = $event => $setup.currentPage = $setup.currentPage - 2)\n  }, _toDisplayString($setup.currentPage - 2), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_12, [$setup.currentPage > 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[3] || (_cache[3] = $event => $setup.currentPage--)\n  }, _toDisplayString($setup.currentPage - 1), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_13, [_createElementVNode(\"a\", _hoisted_14, _toDisplayString($setup.currentPage), 1 /* TEXT */)]), _createElementVNode(\"li\", _hoisted_15, [$setup.currentPage < $setup.pages.length ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[4] || (_cache[4] = $event => $setup.currentPage++)\n  }, _toDisplayString($setup.currentPage + 1), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_16, [$setup.currentPage < $setup.pages.length - 1 ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[5] || (_cache[5] = $event => $setup.currentPage = $setup.currentPage + 2)\n  }, _toDisplayString($setup.currentPage + 2), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"li\", _hoisted_17, [$setup.currentPage < $setup.pages.length ? (_openBlock(), _createElementBlock(\"a\", {\n    key: 0,\n    class: \"page-link\",\n    onClick: _cache[6] || (_cache[6] = $event => $setup.currentPage++)\n  }, _hoisted_19)) : _createCommentVNode(\"v-if\", true)])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EAES,YAAU,EAAC;AAAY;;EACtBA,KAAK,EAAC;AAAY;gCACpBC,oBAAqD;EAAjDD,KAAK,EAAC;AAAiB,iBAACC,oBAAoB;EAAjBC,IAAI,EAAC;AAAG,GAAC,MAAI;gCAC5CD,oBAAiE;EAA7DD,KAAK,EAAC,wBAAwB;EAAC,cAAY,EAAC;GAAO,OAAK;;EAK7DA,KAAK,EAAC;AAAkC;;EAGxC,YAAU,EAAC;AAAyB;;EACnCA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAW;gCAEjBC,oBAAuC;EAAjC,aAAW,EAAC;AAAM,GAAC,GAAO;qBAAhCE,UAAuC;;EAGvCH,KAAK,EAAC;AAAW;;EAGjBA,KAAK,EAAC;AAAW;;EAEjBA,KAAK,EAAC;AAAW;;EAAIA,KAAK,EAAC;AAAkB;;EAC7CA,KAAK,EAAC;AAAW;;EAGjBA,KAAK,EAAC;AAAW;;EAEjBA,KAAK,EAAC;AAAW;iCAEjBC,oBAAuC;EAAjC,aAAW,EAAC;AAAM,GAAC,GAAO;qBAAhCG,WAAuC;;;6DAhC/CH,oBAQM,cAPJA,oBAMM,OANNI,UAMM,GALJJ,oBAIK,MAJLK,UAIK,GAHHC,UAAqD,EACrDC,UAAiE,EACjEP,oBAAsG;IAA9FQ,IAAI,EAAC,QAAQ;IAACT,KAAK,EAAC,gDAAgD;IAAEU,OAAK,yCAAEC,iCAAG;KAAE,KAAG,SAInGV,oBAEM,OAFNW,UAEM,sBADJC,oBAAwFC,6BAAlEH,YAAK,EAAVI,CAAC;yBAAlBC,aAAwFC;MAA1DC,GAAG,EAAEH,CAAC,CAACI,GAAG;MAAGC,EAAE,EAAEL,CAAC,CAACI,GAAG;MAAGE,IAAI,EAAEN,CAAC,CAACM,IAAI;MAAGC,KAAK,EAAEP,CAAC,CAACO;;oCAEjFrB,oBAwBM,OAxBNsB,UAwBM,GAvBJtB,oBAsBK,MAtBLuB,UAsBK,GArBHvB,oBAIK,MAJLwB,UAIK,GAHQd,kBAAW,sBAAtBE,oBAEI;;IAFDa,CAAC,EAAD,EAAC;IAAwB1B,KAAK,EAAC,WAAW;IAAEU,OAAK,sCAAEC,kBAAW;0DAInEV,oBAEW,MAFX0B,WAEW,GAFoBhB,kBAAW,sBAApBE,oBAEhB;;IAF0Cb,KAAK,EAAC,WAAW;IAAEU,OAAK,sCAAEC,kBAAW,GAAGA,kBAAW;sBAC/FA,kBAAW,6DAEfV,oBACW,MADX2B,WACW,GADoBjB,kBAAW,sBAApBE,oBAChB;;IAD0Cb,KAAK,EAAC,WAAW;IAAEU,OAAK,sCAAEC,kBAAW;sBAAOA,kBAAW,6DAEvGV,oBAA4E,MAA5E4B,WAA4E,GAAtD5B,oBAAiD,KAAjD6B,WAAiD,mBAAlBnB,kBAAW,oBAChEV,oBAEW,MAFX8B,WAEW,GAFoBpB,kBAAW,GAAGA,YAAK,CAACqB,MAAM,kBAAnCnB,oBAEhB;;IAFqDb,KAAK,EAAC,WAAW;IAAEU,OAAK,sCAAEC,kBAAW;sBAC5FA,kBAAW,6DAEfV,oBACyE,MADzEgC,WACyE,GAD1CtB,kBAAW,GAAGA,YAAK,CAACqB,MAAM,sBAAnCnB,oBAC8C;;IADLb,KAAK,EAAC,WAAW;IAC3EU,OAAK,sCAAEC,kBAAW,GAAGA,kBAAW;sBAASA,kBAAW,6DACzDV,oBAIK,MAJLiC,WAIK,GAHMvB,kBAAW,GAAGA,YAAK,CAACqB,MAAM,kBAAnCnB,oBAEI;;IAFiCb,KAAK,EAAC,WAAW;IAAEU,OAAK,sCAAEC,kBAAW","names":["class","_createElementVNode","href","_hoisted_9","_hoisted_18","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","$setup","_hoisted_5","_createElementBlock","_Fragment","u","_createBlock","_component_UserCard","key","_id","id","name","email","_hoisted_6","_hoisted_7","_hoisted_8","a","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","length","_hoisted_16","_hoisted_17"],"sourceRoot":"","sources":["/Users/yeelam/Desktop/Inventory-system/Front/src/views/UsersView.vue"],"sourcesContent":["<template>\n  <div>\n    <nav aria-label=\"breadcrumb\">\n      <ol class=\"breadcrumb\">\n        <li class=\"breadcrumb-item\"><a href=\"/\">Home</a></li>\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">Users</li>\n        <button type=\"button\" class=\"btn btn-primary position-absolute top-20 end-0\" @click=\"add\">Add</button>\n      </ol>\n    </nav>\n  </div>\n  <div class=\"row row-cols-1 row-cols-md-4 g-4\">\n    <UserCard v-for=\"u in users\" :key=\"u._id\" :id=\"u._id\" :name=\"u.name\" :email=\"u.email\" />\n  </div>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\">\n        <a a v-if=\"currentPage > 1\" class=\"page-link\" @click=\"currentPage--\">\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li class=\"page-item\"><a v-if=\"currentPage > 2\" class=\"page-link\" @click=\"currentPage = currentPage - 2\">{{\n          currentPage - 2\n      }}</a></li>\n      <li class=\"page-item\"><a v-if=\"currentPage > 1\" class=\"page-link\" @click=\"currentPage--\">{{ currentPage - 1\n      }}</a></li>\n      <li class=\"page-item\"><a class=\"page-link active\">{{ currentPage }}</a></li>\n      <li class=\"page-item\"><a v-if=\"currentPage < pages.length\" class=\"page-link\" @click=\"currentPage++\">{{\n          currentPage + 1\n      }}</a></li>\n      <li class=\"page-item\"><a v-if=\"currentPage < pages.length - 1\" class=\"page-link\"\n          @click=\"currentPage = currentPage + 2\">{{ currentPage + 2 }}</a></li>\n      <li class=\"page-item\">\n        <a v-if=\"currentPage < pages.length\" class=\"page-link\" @click=\"currentPage++\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n\n<script>\n\nimport UserCard from \"@/components/UserCard.vue\";\nimport { ref, onMounted, computed, watch } from \"vue\";\n\nexport default {\n  name: 'UserView',\n  components: {\n    UserCard\n  },\n  setup() {\n    const users = ref([]);\n    const lastPage = ref(0);\n    const perPage = ref(8);\n    const currentPage = ref(1);\n\n    const add = async function () {\n      location.assign(\"/user/detail\")\n    }\n\n\n    const fetchPage = async function (page) {\n\n      var response = await fetch(\"/api/users/display?perPage=\" + perPage.value + \"&page=\" + page);\n\n      if (response.ok) {\n        var data = await response.json();\n        users.value = data.records;\n        lastPage.value = data.pages;\n      } else {\n        alert(response.statusText);\n      }\n    };\n\n    const pages = computed(() => {\n      var pages = [];\n\n      for (var i = 1; i <= lastPage.value; i++) {\n        pages.push(i)\n      }\n\n      return pages;\n    })\n\n    onMounted(function () {\n      fetchPage(1);\n    });\n\n    watch(currentPage, () => {\n      fetchPage(currentPage.value)\n    });\n\n    return {\n      users,\n      pages,\n      fetchPage,\n      currentPage,\n      add\n    };\n\n  }\n}\n\n</script>\n\n\n    "]},"metadata":{},"sourceType":"module"}