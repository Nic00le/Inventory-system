{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputEmail1\",\n  class: \"form-label\"\n}, \"Email address\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"emailHelp\",\n  class: \"form-text\"\n}, \"We'll never share your email with anyone else.\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"form-group col-md-6\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputEmail1\",\n  class: \"form-label\"\n}, \"Full Name\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"row\"\n};\nconst _hoisted_9 = {\n  class: \"form-group col-md-4\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputPassword1\",\n  class: \"form-label\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"form-group col-md-4\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputPassword1\",\n  class: \"form-label\"\n}, \"Type\", -1 /* HOISTED */);\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"option\", {\n  selected: \"\"\n}, \"Open this select menu\", -1 /* HOISTED */);\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"admin\"\n}, \"Admin\", -1 /* HOISTED */);\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"user\"\n}, \"User\", -1 /* HOISTED */);\nconst _hoisted_16 = [_hoisted_13, _hoisted_14, _hoisted_15];\nconst _hoisted_17 = {\n  class: \"form-group col-md-4\"\n};\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"exampleInputPassword1\",\n  class: \"form-label\"\n}, \"Phone\", -1 /* HOISTED */);\nconst _hoisted_19 = {\n  key: 0,\n  type: \"submit\",\n  class: \"btn btn-primary\"\n};\nconst _hoisted_20 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers($event => $setup.create(), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.user.email = $event),\n    \"aria-describedby\": \"email\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.user.email]]), _hoisted_5]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.user.name = $event),\n    \"aria-describedby\": \"full name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.user.name]])])]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.user.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.user.password]])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.user.type = $event)\n  }, _hoisted_16, 512 /* NEED_PATCH */), [[_vModelSelect, $setup.user.type]])]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.user.phone = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.user.phone]])])]), !_ctx.$route.params.id ? (_openBlock(), _createElementBlock(\"button\", _hoisted_19, \"Save\")) : _createCommentVNode(\"v-if\", true)], 32 /* HYDRATE_EVENTS */), _ctx.$route.params.id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = _withModifiers((...args) => $setup.update && $setup.update(...args), [\"prevent\"])),\n    class: \"btn btn-primary\"\n  }, \"Update\"), _createCommentVNode(\" <button @click.prevent=\\\"delete\\\" class=\\\"btn btn-danger\\\">Delete</button> \")])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;EACSA,KAAK,EAAC;AAAW;;EAETA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAAqB;gCAC5BC,oBAAwE;EAAjEC,GAAG,EAAC,oBAAoB;EAACF,KAAK,EAAC;GAAa,eAAa;gCAEhEC,oBAA0F;EAArFE,EAAE,EAAC,WAAW;EAACH,KAAK,EAAC;GAAY,gDAA8C;;EAEnFA,KAAK,EAAC;AAAqB;gCAC5BC,oBAAoE;EAA7DC,GAAG,EAAC,oBAAoB;EAACF,KAAK,EAAC;GAAa,WAAS;;EAI/DA,KAAK,EAAC;AAAK;;EACPA,KAAK,EAAC;AAAqB;iCAC5BC,oBAAsE;EAA/DC,GAAG,EAAC,uBAAuB;EAACF,KAAK,EAAC;GAAa,UAAQ;;EAG7DA,KAAK,EAAC;AAAqB;iCAC5BC,oBAAkE;EAA3DC,GAAG,EAAC,uBAAuB;EAACF,KAAK,EAAC;GAAa,MAAI;iCAEtDC,oBAA+C;EAAvCG,QAAQ,EAAR;AAAQ,GAAC,uBAAqB;iCACtCH,oBAAoC;EAA5BI,KAAK,EAAC;AAAO,GAAC,OAAK;iCAC3BJ,oBAAkC;EAA1BI,KAAK,EAAC;AAAM,GAAC,MAAI;qBAFzBC,WAA+C,EAC/CC,WAAoC,EACpCC,WAAkC;;EAGrCR,KAAK,EAAC;AAAqB;iCAC5BC,oBAAmE;EAA5DC,GAAG,EAAC,uBAAuB;EAACF,KAAK,EAAC;GAAa,OAAK;;;EAIlCS,IAAI,EAAC,QAAQ;EAACT,KAAK,EAAC;;;;;;uBA/B7DU,oBAqCM,OArCNC,UAqCM,GApCFV,oBA+BO;IA/BAW,QAAM,qDAAUC,aAAM;MACzBZ,oBAUM,OAVNa,UAUM,GATFb,oBAIM,OAJNc,UAIM,GAHFC,UAAwE,kBACxEf,oBAAuF;IAAhFQ,IAAI,EAAC,OAAO;IAACT,KAAK,EAAC,cAAc;+DAAUa,WAAI,CAACI,KAAK;IAAE,kBAAgB,EAAC;iDAA7BJ,WAAI,CAACI,KAAK,KAC5DC,UAA0F,IAE9FjB,oBAGM,OAHNkB,UAGM,GAFFC,UAAoE,kBACpEnB,oBAAyF;IAAlFQ,IAAI,EAAC,MAAM;IAACT,KAAK,EAAC,cAAc;+DAAUa,WAAI,CAACQ,IAAI;IAAE,kBAAgB,EAAC;iDAA5BR,WAAI,CAACQ,IAAI,SAGlEpB,oBAiBM,OAjBNqB,UAiBM,GAhBFrB,oBAGM,OAHNsB,UAGM,GAFFC,WAAsE,kBACtEvB,oBAAoE;IAA7DQ,IAAI,EAAC,UAAU;IAACT,KAAK,EAAC,cAAc;+DAAUa,WAAI,CAACY,QAAQ;iDAAbZ,WAAI,CAACY,QAAQ,OAEtExB,oBAOM,OAPNyB,WAOM,GANFC,WAAkE,kBAClE1B,oBAIS;IAJDD,KAAK,EAAC,cAAc;+DAAUa,WAAI,CAACJ,IAAI;0DAATI,WAAI,CAACJ,IAAI,OAMnDR,oBAGM,OAHN2B,WAGM,GAFFC,WAAmE,kBACnE5B,oBAA6D;IAAtDQ,IAAI,EAAC,MAAM;IAACT,KAAK,EAAC,cAAc;+DAAUa,WAAI,CAACiB,KAAK;iDAAVjB,WAAI,CAACiB,KAAK,UAGpDC,WAAM,CAACC,MAAM,CAAC7B,EAAE,kBAA/BO,oBAAoF,UAApFuB,WAAoF,EAAb,MAAI,mEAEpEF,WAAM,CAACC,MAAM,CAAC7B,EAAE,kBAA3BO,oBAGM,qBAFFT,oBAAuE;IAA9DiC,OAAK,wDAAUrB,uCAAM;IAAEb,KAAK,EAAC;KAAkB,QAAM,GAC9DmC,mGAA+E","names":["class","_createElementVNode","for","id","selected","value","_hoisted_13","_hoisted_14","_hoisted_15","type","_createElementBlock","_hoisted_1","onSubmit","$setup","_hoisted_2","_hoisted_3","_hoisted_4","email","_hoisted_5","_hoisted_6","_hoisted_7","name","_hoisted_8","_hoisted_9","_hoisted_10","password","_hoisted_11","_hoisted_12","_hoisted_17","_hoisted_18","phone","_ctx","params","_hoisted_19","onClick","_createCommentVNode"],"sourceRoot":"","sources":["/Users/yeelam/Documents/Year3 sem1/COMP3047/Lab/Asm03/Front/src/components/UserDetail.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <form @submit.prevent=\"create()\">\n            <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Email address</label>\n                    <input type=\"email\" class=\"form-control\" v-model=\"user.email\" aria-describedby=\"email\">\n                    <div id=\"emailHelp\" class=\"form-text\">We'll never share your email with anyone else.</div>\n                </div>\n                <div class=\"form-group col-md-6\">\n                    <label for=\"exampleInputEmail1\" class=\"form-label\">Full Name</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"user.name\" aria-describedby=\"full name\">\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"form-group col-md-4\">\n                    <label for=\"exampleInputPassword1\" class=\"form-label\">Password</label>\n                    <input type=\"password\" class=\"form-control\" v-model=\"user.password\">\n                </div>\n                <div class=\"form-group col-md-4\">\n                    <label for=\"exampleInputPassword1\" class=\"form-label\">Type</label>\n                    <select class=\"form-control\" v-model=\"user.type\">\n                        <option selected>Open this select menu</option>\n                        <option value=\"admin\">Admin</option>\n                        <option value=\"user\">User</option>\n                    </select>\n                </div>\n                <div class=\"form-group col-md-4\">\n                    <label for=\"exampleInputPassword1\" class=\"form-label\">Phone</label>\n                    <input type=\"text\" class=\"form-control\" v-model=\"user.phone\">\n                </div>\n            </div>\n            <button v-if=\"!$route.params.id\" type=\"submit\" class=\"btn btn-primary\">Save</button>\n        </form>\n        <div v-if=\"$route.params.id\">\n            <button @click.prevent=\"update\" class=\"btn btn-primary\">Update</button>\n            <!-- <button @click.prevent=\"delete\" class=\"btn btn-danger\">Delete</button> -->\n        </div>\n    </div>\n</template>\n\n<script>\nimport { ref, onMounted } from \"vue\";\n\n\nexport default {\n    name: 'UserDetail',\n    props: {\n        id: String,\n        newRecord: Boolean\n    },\n    setup(props) {\n        const user = ref({});\n\n        onMounted(async () => {\n            if (props.id) {\n                var response = await fetch(\"/api/user/detail\" + props.id)\n\n                if (response.ok) {\n                    user.value = await response.json();\n                }\n            }\n        });\n\n        const create = async function () {\n\n            var response = await fetch(\"/api/create\", {\n                method: \"post\",\n                headers: {\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                    'Content-Type': 'application/json'\n                },\n\n                // body: new URLSearchParams(new FormData(event.target))\n                body: JSON.stringify(user.value)\n            });\n            console.log(user.value)\n            if (response.ok) {\n\n                var text = await response.text();\n                alert(text);\n                // location.assign(\"/bookings\")\n            } else {\n                alert(response.statusText)\n            }\n        }\n\n        const update = async function () {\n            delete user.value._id;\n\n            var response = await fetch(\"/api/user/update/\" + props.id, {\n                method: \"put\",\n                headers: {\n                    // 'Content-Type': 'application/x-www-form-urlencoded',\n                    'Content-Type': 'application/json'\n                },\n\n                // body: new URLSearchParams(new FormData(event.target))\n                body: JSON.stringify(user.value)\n            });\n            console.log(user.value)\n            if (response.ok) {\n\n                var text = await response.text();\n                alert(text);\n                // location.assign(\"/bookings\")\n            } else {\n                alert(response.statusText)\n            }\n        }\n\n        return {\n            user,\n            create,\n            update\n        }\n    }\n}\n</script>"]},"metadata":{},"sourceType":"module"}