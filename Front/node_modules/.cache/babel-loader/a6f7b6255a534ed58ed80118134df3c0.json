{"ast":null,"code":"import \"core-js/modules/es.typed-array.find-last.js\";\nimport \"core-js/modules/es.typed-array.find-last-index.js\";\nimport { ref } from \"vue\";\nexport default {\n  name: \"TheCards\",\n  props: {\n    id: String,\n    type: String,\n    src: String,\n    title: String,\n    descriptions: String,\n    quantity: Int32Array\n  },\n  setup(props) {\n    const path = \"/\" + props.type + \"/detail/\" + props.id;\n    const join = ref([]);\n    let userId = localStorage.getItem('userId');\n    const addJoin = async function () {\n      join.value.User = userId;\n      join.value.item = props.id;\n      console.log(join.value);\n      var response = await fetch(\"/api/join/insert\", {\n        method: \"post\",\n        headers: {\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n          'Content-Type': 'application/json'\n        },\n        // body: new URLSearchParams(new FormData(event.target))\n        body: JSON.stringify(join.value)\n      });\n      if (response.ok) {\n        var text = await response.text();\n        alert(text);\n      } else {\n        alert(response.statusText);\n      }\n    };\n    return {\n      path,\n      addJoin\n    };\n  }\n};","map":{"version":3,"mappings":";;AA6BA,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACLC,EAAE,EAAEC,MAAM;IACVC,IAAI,EAAED,MAAM;IACZE,GAAG,EAAEF,MAAM;IACXG,KAAK,EAAEH,MAAM;IACbI,YAAY,EAAEJ,MAAM;IACpBK,QAAQ,EAAEC;EACZ,CAAC;EACDC,KAAK,CAACT,KAAK,EAAE;IACX,MAAMU,IAAG,GAAI,GAAE,GAAIV,KAAK,CAACG,IAAG,GAAI,UAAS,GAAIH,KAAK,CAACC,EAAE;IACrD,MAAMU,IAAG,GAAIb,GAAG,CAAC,EAAE,CAAC;IACpB,IAAIc,MAAK,GAAIC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAG3C,MAAMC,OAAM,GAAI,kBAAkB;MAChCJ,IAAI,CAACK,KAAK,CAACC,IAAG,GAAIL,MAAM;MACxBD,IAAI,CAACK,KAAK,CAACE,IAAG,GAAIlB,KAAK,CAACC,EAAE;MAC1BkB,OAAO,CAACC,GAAG,CAACT,IAAI,CAACK,KAAK;MAEtB,IAAIK,QAAO,GAAI,MAAMC,KAAK,CAAC,kBAAkB,EAAE;QAC7CC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP;UACA,cAAc,EAAE;QAClB,CAAC;QAED;QACAC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAACK,KAAK;MACjC,CAAC,CAAC;MACF,IAAIK,QAAQ,CAACO,EAAE,EAAE;QACf,IAAIC,IAAG,GAAI,MAAMR,QAAQ,CAACQ,IAAI,EAAE;QAChCC,KAAK,CAACD,IAAI,CAAC;MACb,OAAO;QACLC,KAAK,CAACT,QAAQ,CAACU,UAAU,CAAC;MAC5B;IACF;IAEA,OAAO;MACLrB,IAAI;MACJK;IACF;EACF;AACF","names":["ref","name","props","id","String","type","src","title","descriptions","quantity","Int32Array","setup","path","join","userId","localStorage","getItem","addJoin","value","User","item","console","log","response","fetch","method","headers","body","JSON","stringify","ok","text","alert","statusText"],"sourceRoot":"","sources":["/Users/yeelam/Documents/Year3 sem1/COMP3047/Lab/Asm03/Front/src/components/TheCards.vue"],"sourcesContent":["<template>\n  <div class=\"col\">\n    <!-- <RouterLink :to=\"path\"> -->\n    <a :href=\"path\">\n      <div class=\"card\">\n        <img :src=\"src\" class=\"card-img-top\" alt=\"Photo is gone\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ title }}</h5>\n          <p>{{ descriptions }}</p>\n          <p v-if=\"type == 'games'\" >Availability: {{ quantity }}</p>\n          <button v-if=\"type == 'books' || type == 'games'\" type=\"button\" class=\"btn btn-primary\"\n            @click=\"addJoin\">Borrow</button>\n          <button v-if=\"type == 'gifts' || type == 'materials'\" type=\"button\" class=\"btn btn-primary\"\n            @click=\"addJoin\">Comsume</button>\n        </div>\n      </div>\n    </a>\n    <!-- </RouterLink> -->\n  </div>\n</template>\n\n<style>\na {\n  color: #202223;\n  text-decoration: none;\n}\n</style>\n\n<script>\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"TheCards\",\n  props: {\n    id: String,\n    type: String,\n    src: String,\n    title: String,\n    descriptions: String,\n    quantity: Int32Array\n  },\n  setup(props) {\n    const path = \"/\" + props.type + \"/detail/\" + props.id;\n    const join = ref([]);\n    let userId = localStorage.getItem('userId');\n\n\n    const addJoin = async function () {\n      join.value.User = userId;\n      join.value.item = props.id;\n      console.log(join.value)\n\n      var response = await fetch(\"/api/join/insert\", {\n        method: \"post\",\n        headers: {\n          // 'Content-Type': 'application/x-www-form-urlencoded',\n          'Content-Type': 'application/json'\n        },\n\n        // body: new URLSearchParams(new FormData(event.target))\n        body: JSON.stringify(join.value)\n      });\n      if (response.ok) {\n        var text = await response.text();\n        alert(text);\n      } else {\n        alert(response.statusText);\n      }\n    }\n\n    return {\n      path,\n      addJoin\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module"}